# Hexagonal Orders Application

## Overview
This project demonstrates a Spring Boot application implementing the Hexagonal Architecture (also known as Ports and Adapters). The application manages orders and order items, showcasing clean architecture principles and separation of concerns.

## Project Structure
```
src/main/java/com/example/hexagonalorders/
├── domain/                    # Domain Layer (Core Business Logic)
│   ├── model/                # Domain Entities
│   │   ├── Order.java
│   │   └── OrderItem.java
│   ├── port/                 # Domain Ports (Business Logic Interfaces)
│   │   ├── in/              # Input Ports (Use Cases)
│   │   │   └── OrderUseCase.java
│   │   └── out/             # Output Ports (Repositories, Services)
│   │       ├── OrderRepository.java
│   │       └── OrderNumberGenerator.java
│   └── service/             # Domain Services
│       └── OrderValidationService.java
├── application/              # Application Layer (Use Cases)
│   └── service/             # Application Services
│       └── OrderService.java
├── infrastructure/           # Infrastructure Layer
│   ├── config/              # Configuration
│   │   └── OrderConfiguration.java
│   ├── in/                  # Input Adapters (Primary/Driving)
│   │   └── web/            # Web Adapters
│   │       ├── OrderController.java
│   │       ├── dto/        # Data Transfer Objects
│   │       │   ├── OrderDto.java (input/output, Swagger documented)
│   │       │   └── OrderItemDto.java (input/output, Swagger documented)
│   │       └── mapper/     # DTO Mappers
│   │           └── OrderMapper.java
│   └── out/                # Output Adapters (Secondary/Driven)
│       ├── persistence/    # Persistence Adapters
│       │   ├── entity/     # JPA Entities
│       │   │   ├── OrderJpaEntity.java
│       │   │   ├── OrderItemJpaEntity.java
│       │   │   └── OrderStatus.java
│       │   ├── repository/ # JPA Repositories
│       │   │   ├── OrderJpaRepository.java
│       │   │   └── OrderRepositoryAdapter.java
│       │   └── mapper/    # Entity Mappers
│       │       └── OrderJpaMapper.java
│       └── orderNumber/   # Order Number Generation Adapters
│           └── UuidOrderNumberGenerator.java
└── HexagonalOrdersApplication.java
```

## Technologies Used
- Java 17
- Spring Boot 3.2.3
- Spring Data JPA
- H2 Database
- Lombok
- Maven
- Springdoc OpenAPI (Swagger UI)

## Getting Started
1. Clone the repository
2. Build the project:
   ```bash
   mvn clean install
   ```
3. Run the application:
   ```bash
   mvn spring-boot:run
   ```

## API Endpoints
- `POST /api/orders` - Create a new order (no `id` or `orderNumber` in the request; both are generated by the backend)
- `GET /api/orders/{orderNumber}` - Get order by order number
- `DELETE /api/orders/{orderNumber}` - Delete an order

## H2 Database Console
The application uses H2 as an in-memory database. You can access the H2 console at:
- URL: http://localhost:8080/h2-console
- JDBC URL: jdbc:h2:mem:testdb
- Username: sa
- Password: (empty)

## API Documentation (Swagger/OpenAPI)
- The API is documented using Swagger/OpenAPI annotations.
- Access the interactive documentation at:
  - http://localhost:8080/swagger-ui.html
  - or http://localhost:8080/swagger-ui/index.html
- The input and output DTOs (`OrderDto`, `OrderItemDto`) are documented to indicate which fields are generated by the backend and which are required in the request.

## Hexagonal Architecture Benefits
This project implements Hexagonal Architecture (Ports and Adapters) and provides several benefits:
1. **Domain-Centric Design**: The business logic is isolated from external concerns
2. **Clear Boundaries**: The architecture enforces clear boundaries between layers
3. **Testability**: Each layer can be tested independently
4. **Flexibility**: External dependencies can be easily swapped (e.g., database, UI)
5. **Maintainability**: Changes in one layer do not affect others

## Notes on Architecture
- **Domain Ports** (`port/in` and `port/out`) are only for business logic and persistence/service abstractions, not for web or infrastructure concerns.
- **OrderController** is implemented directly in the infrastructure layer as a REST adapter, not as a domain port.
- This structure keeps the domain layer free from any dependencies on frameworks or delivery mechanisms.

## Contributing
1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request